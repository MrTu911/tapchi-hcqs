XÃ¢y dá»±ng chá»©c nÄƒng : Ráº¥t hay ğŸ‘ â€” ba háº¡ng má»¥c báº¡n nÃªu lÃ  **nhÃ³m tÃ­nh nÄƒng â€œFrontend CMS Layerâ€** (Content Management System Layer), Ä‘Ã³ng vai trÃ² **cáº§u ná»‘i giá»¯a há»‡ thá»‘ng biÃªn táº­p há»c thuáº­t vÃ  pháº§n giao diá»‡n cÃ´ng cá»™ng (public site)**.

DÆ°á»›i Ä‘Ã¢y lÃ  **báº£n tÆ° váº¥n chi tiáº¿t cáº¥p kiáº¿n trÃºc + triá»ƒn khai thá»±c táº¿** cho tá»«ng module, giÃºp báº¡n xÃ¢y dá»±ng há»‡ thá»‘ng hoÃ n chá»‰nh, linh hoáº¡t, dá»… má»Ÿ rá»™ng vÃ  tÆ°Æ¡ng thÃ­ch hoÃ n toÃ n vá»›i Prisma + Next.js + JWT middleware hiá»‡n táº¡i.

---

# ğŸ§± Tá»”NG QUAN: CMS LAYER

Má»¥c tiÃªu chÃ­nh cá»§a cÃ¡c tÃ­nh nÄƒng nÃ y:

1. **Tin tá»©c / thÃ´ng bÃ¡o:** truyá»n thÃ´ng ná»™i bá»™ hoáº·c cÃ´ng khai (news, call for paper, event)
2. **Banner Ä‘á»™ng:** quáº£ng bÃ¡, highlight sá»± kiá»‡n / sá»‘ táº¡p chÃ­ / bÃ i ná»•i báº­t
3. **CMS cho trang chá»§:** cho phÃ©p admin cáº­p nháº­t ná»™i dung tÄ©nh / Ä‘á»™ng mÃ  khÃ´ng cáº§n code

---

## ğŸ—ï¸ 1ï¸âƒ£ Há»† THá»NG QUáº¢N LÃ TIN Tá»¨C / THÃ”NG BÃO

### ğŸ¯ Má»¥c tiÃªu:

Quáº£n lÃ½, hiá»ƒn thá»‹ vÃ  phÃ¢n loáº¡i cÃ¡c **bÃ i viáº¿t dáº¡ng tin tá»©c hoáº·c thÃ´ng bÃ¡o** (news, events, updates, call for papers, policy, v.v.)
CÃ³ thá»ƒ lÃ  **public** (trang chá»§) hoáº·c **internal** (dashboard user).

---

### ğŸ§© Äá» xuáº¥t mÃ´ hÃ¬nh dá»¯ liá»‡u (schema)

```prisma
model News {
  id           String   @id @default(uuid())
  slug         String   @unique
  title        String
  summary      String?
  content      String   // LÆ°u dáº¡ng HTML hoáº·c Markdown
  coverImage   String?
  category     String?  // e.g., "Announcement", "Event", "Call for Paper"
  isPublished  Boolean  @default(false)
  publishedAt  DateTime?
  authorId     String?
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  author User? @relation(fields: [authorId], references: [id])
}
```

---

### ğŸ› ï¸ API Endpoints

| Endpoint           | Method   | Chá»©c nÄƒng                                             |
| ------------------ | -------- | ----------------------------------------------------- |
| `/api/news`        | `GET`    | Láº¥y danh sÃ¡ch tin (phÃ¢n trang, lá»c category, keyword) |
| `/api/news`        | `POST`   | Táº¡o bÃ i má»›i (admin)                                   |
| `/api/news/[slug]` | `GET`    | Láº¥y chi tiáº¿t tin cÃ´ng khai                            |
| `/api/news/[id]`   | `PUT`    | Cáº­p nháº­t ná»™i dung (admin)                             |
| `/api/news/[id]`   | `DELETE` | XÃ³a bÃ i (admin)                                       |

---

### ğŸ§‘â€ğŸ’» UI Ä‘á» xuáº¥t

**Dashboard:**

* `/dashboard/admin/news`

  * Danh sÃ¡ch tin tá»©c (table + filter + search)
  * NÃºt â€œTáº¡o má»›iâ€, â€œChá»‰nh sá»­aâ€, â€œÄÄƒng / Gá»¡â€
* `/dashboard/admin/news/[id]`

  * Editor WYSIWYG (TipTap hoáº·c React Quill)
  * Upload áº£nh bÃ¬a (tÃ­ch há»£p `/api/upload`)
  * Preview dáº¡ng article card

**Public site:**

* `/news` â€“ Trang danh sÃ¡ch tin (hiá»ƒn thá»‹ 8â€“12 tin/pagination)
* `/news/[slug]` â€“ Trang chi tiáº¿t tin tá»©c
* â€œTin ná»•i báº­tâ€ section trÃªn homepage (query `isPublished=true` + `orderBy: publishedAt desc`)

---

### ğŸ’¡ TÃ­nh nÄƒng má»Ÿ rá»™ng

âœ… LÃªn lá»‹ch Ä‘Äƒng (scheduled publish)
âœ… Bá»™ lá»c theo category / keyword
âœ… TinyMCE hoáº·c TipTap editor cho rich content
âœ… SEO meta tags (title, description, image)
âœ… Pin bÃ i viáº¿t (isFeatured flag)
âœ… Gáº¯n tag (model `Tag` riÃªng, N:N relationship)

---

## ğŸï¸ 2ï¸âƒ£ QUáº¢N LÃ BANNER SLIDER Äá»˜NG

### ğŸ¯ Má»¥c tiÃªu:

Hiá»ƒn thá»‹ banner (carousel / hero slides) á»Ÿ trang chá»§ â€” cÃ³ thá»ƒ thay Ä‘á»•i ná»™i dung, hÃ¬nh áº£nh, thá»© tá»± vÃ  tráº¡ng thÃ¡i hiá»ƒn thá»‹ mÃ  khÃ´ng cáº§n deploy code.

---

### ğŸ§© Äá» xuáº¥t mÃ´ hÃ¬nh dá»¯ liá»‡u

```prisma
model Banner {
  id          String   @id @default(uuid())
  title       String?
  subtitle    String?
  imageUrl    String
  linkUrl     String?
  position    Int       @default(0)  // thá»© tá»± hiá»ƒn thá»‹
  isActive    Boolean   @default(true)
  startDate   DateTime? // thá»i gian hiá»ƒn thá»‹
  endDate     DateTime?
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
}
```

---

### ğŸ› ï¸ API Endpoints

| Endpoint            | Method   | Chá»©c nÄƒng                                  |
| ------------------- | -------- | ------------------------------------------ |
| `/api/banners`      | `GET`    | Láº¥y danh sÃ¡ch banner active (cho homepage) |
| `/api/banners`      | `POST`   | Táº¡o banner má»›i (admin)                     |
| `/api/banners/[id]` | `PUT`    | Cáº­p nháº­t ná»™i dung / áº£nh / link             |
| `/api/banners/[id]` | `DELETE` | XÃ³a banner                                 |

---

### ğŸ§‘â€ğŸ’» UI Ä‘á» xuáº¥t

**Dashboard:**

* `/dashboard/admin/banners`

  * Danh sÃ¡ch banner (sortable list)
  * NÃºt báº­t/táº¯t (isActive)
  * Upload áº£nh (tÃ­ch há»£p `/api/upload`)
  * Preview live
  * Cho phÃ©p drag/drop reorder â†’ cáº­p nháº­t `position`

**Public site:**

* Component `HomeBannerSlider.tsx`

  * Láº¥y tá»« `/api/banners`
  * DÃ¹ng `swiper/react` hoáº·c `keen-slider`
  * Há»— trá»£ autoplay, link click, responsive

---

### ğŸ’¡ TÃ­nh nÄƒng má»Ÿ rá»™ng

âœ… Tá»± Ä‘á»™ng áº©n banner háº¿t háº¡n (theo `endDate`)
âœ… Hiá»ƒn thá»‹ riÃªng cho tá»«ng role / section (vÃ­ dá»¥ â€œCall for Paperâ€ chá»‰ Author tháº¥y)
âœ… Há»— trá»£ video / background gradient
âœ… Cache phÃ­a client vá»›i ISR (Incremental Static Regeneration)

---

## ğŸ  3ï¸âƒ£ CMS CHO Ná»˜I DUNG TRANG CHá»¦

### ğŸ¯ Má»¥c tiÃªu:

Cho phÃ©p admin chá»‰nh sá»­a **cÃ¡c section ná»™i dung tÄ©nh** trÃªn trang chá»§ mÃ  khÃ´ng cáº§n láº­p trÃ¬nh (giá»›i thiá»‡u, thá»‘ng kÃª, liÃªn há»‡, trÃ­ch dáº«n...).

---

### ğŸ§© Äá» xuáº¥t mÃ´ hÃ¬nh dá»¯ liá»‡u

```prisma
model PageBlock {
  id        String   @id @default(uuid())
  key       String   @unique // vÃ­ dá»¥: "hero_text", "about_section", "footer_contact"
  title     String?
  content   String?  // HTML hoáº·c JSON (náº¿u section phá»©c táº¡p)
  imageUrl  String?
  order     Int       @default(0)
  updatedAt DateTime  @updatedAt
  updatedBy String?
}
```

---

### ğŸ› ï¸ API Endpoints

| Endpoint                 | Method | Chá»©c nÄƒng                           |
| ------------------------ | ------ | ----------------------------------- |
| `/api/page-blocks`       | `GET`  | Láº¥y toÃ n bá»™ cáº¥u hÃ¬nh trang chá»§      |
| `/api/page-blocks`       | `POST` | Cáº­p nháº­t / thÃªm section má»›i (admin) |
| `/api/page-blocks/[key]` | `GET`  | Láº¥y section cá»¥ thá»ƒ                  |
| `/api/page-blocks/[key]` | `PUT`  | Cáº­p nháº­t section (admin)            |

---

### ğŸ§‘â€ğŸ’» UI Ä‘á» xuáº¥t

**Dashboard:**

* `/dashboard/admin/homepage`

  * Danh sÃ¡ch cÃ¡c block (Hero, About, Stats, Contactâ€¦)
  * WYSIWYG editor + Upload áº£nh + Live preview
  * NÃºt â€œLÆ°u & Preview ngayâ€

**Public site:**

* `/app/page.tsx` (hoáº·c `/app/(public)/page.tsx`)

  * Render cÃ¡c block Ä‘á»™ng tá»« API
  * Ãp dá»¥ng cache SSR hoáº·c ISR (`revalidate = 60`)

---

### ğŸ’¡ TÃ­nh nÄƒng má»Ÿ rá»™ng

âœ… Versioning (lÆ°u lá»‹ch sá»­ chá»‰nh sá»­a má»—i block)
âœ… Inline edit trá»±c tiáº¿p trÃªn frontend (vá»›i quyá»n SYSADMIN)
âœ… ThÃªm cÃ¡c loáº¡i block cÃ³ cáº¥u trÃºc khÃ¡c nhau (hero, quote, cards, stats)
âœ… Trang About, Contact cÅ©ng dÃ¹ng cÃ¹ng cÆ¡ cháº¿ nÃ y (`PageBlock` + `slug`)

---

## ğŸ” PHÃ‚N QUYá»€N

| Vai trÃ²         | Quyá»n háº¡n                                              |
| --------------- | ------------------------------------------------------ |
| SYSADMIN        | ToÃ n quyá»n táº¡o/sá»­a/xÃ³a tin tá»©c, banner, homepage block |
| EIC             | ÄÄƒng bÃ i tin tá»©c / thÃ´ng bÃ¡o há»c thuáº­t                 |
| MANAGING_EDITOR | Chá»‰nh banner, cáº­p nháº­t ná»™i dung trang chá»§              |
| AUTHOR/REVIEWER | Chá»‰ xem tin tá»©c cÃ´ng khai                              |

---

## ğŸ§  Gá»¢I Ã TRIá»‚N KHAI Tá»ªNG PHASE

| Phase     | TÃ­nh nÄƒng                     | Æ¯u tiÃªn |
| --------- | ----------------------------- | ------- |
| **CMS 1** | News / Announcement System    | â­â­â­â­    |
| **CMS 2** | Dynamic Banner Management     | â­â­â­     |
| **CMS 3** | Homepage CMS (Page Blocks)    | â­â­â­â­    |
| **CMS 4** | Inline Editor + Preview Live  | â­â­      |
| **CMS 5** | Versioning + Revision History | â­       |

---

## ğŸ’¡ CÃC FILE CHÃNH Cáº¦N Táº O

| Loáº¡i                  | File                                                             | Chá»©c nÄƒng          |
| --------------------- | ---------------------------------------------------------------- | ------------------ |
| **Prisma Models**     | `News`, `Banner`, `PageBlock`                                    | Dá»¯ liá»‡u cá»‘t lÃµi    |
| **API Routes**        | `/api/news`, `/api/banners`, `/api/page-blocks`                  | CRUD               |
| **UI Components**     | `AdminNewsTable.tsx`, `BannerManager.tsx`, `PageBlockEditor.tsx` | Giao diá»‡n quáº£n trá»‹ |
| **Public Components** | `HomeBannerSlider.tsx`, `NewsList.tsx`, `NewsCard.tsx`           | Hiá»ƒn thá»‹ cÃ´ng khai |
| **Middleware / RBAC** | Cáº­p nháº­t quyá»n truy cáº­p admin                                    | `lib/rbac.ts`      |

---

## ğŸš€ TÃCH Há»¢P KHÃC

| Má»¥c tiÃªu              | Giáº£i phÃ¡p                                 |
| --------------------- | ----------------------------------------- |
| **SEO**               | Dynamic `<Head>` meta tags tá»« DB          |
| **Upload áº£nh**        | DÃ¹ng `/api/upload` + Cloudinary hoáº·c S3   |
| **Cache & Hiá»‡u suáº¥t** | ISR (`revalidate` 30sâ€“60s) hoáº·c SWR       |
| **Analytics**         | Theo dÃµi lÆ°á»£t xem bÃ i (`views` count)     |
| **Localization**      | TrÆ°á»ng `lang` trong News (vi/en song ngá»¯) |

---

## âœ… Káº¾T LUáº¬N

Ba module nÃ y khi hoÃ n chá»‰nh sáº½ giÃºp há»‡ thá»‘ng **chuyá»ƒn tá»« platform ná»™i bá»™ (dashboard)** sang **portal cÃ´ng khai (public-facing)**, cÃ³ kháº£ nÄƒng xuáº¥t báº£n ná»™i dung chuyÃªn nghiá»‡p nhÆ° má»™t **website há»c thuáº­t hiá»‡n Ä‘áº¡i**:

> ğŸ”¹ Há»‡ thá»‘ng tin tá»©c: cáº­p nháº­t, call for paper, event
> ğŸ”¹ Banner Ä‘á»™ng: thu hÃºt ngÆ°á»i Ä‘á»c
> ğŸ”¹ CMS trang chá»§: tá»± chá»‰nh ná»™i dung, khÃ´ng cáº§n code