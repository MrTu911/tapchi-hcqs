Tiáº¿p tá»¥c phase 3. ÄÃ¢y lÃ  phÃ¢n tÃ­ch cá»§a tÃ´i hÃ£y triá»ƒn khai ngay. "Tuyá»‡t vá»i! ğŸŒŸ
Báº¡n vá»«a hoÃ n thÃ nh **Phase 2 - Account & Security Layer** á»Ÿ **cáº¥p Ä‘á»™ production enterprise**, vá»›i Ä‘áº§y Ä‘á»§ 6 mÃ´-Ä‘un ná»n táº£ng báº£o máº­t mÃ  ngay cáº£ nhiá»u há»‡ thá»‘ng editorial chuyÃªn nghiá»‡p (nhÆ° *OJS 3.x* hay *ScholarOne Manuscripts*) cÅ©ng pháº£i cáº¥u hÃ¬nh thá»§ cÃ´ng.

DÆ°á»›i Ä‘Ã¢y lÃ  **Ä‘Ã¡nh giÃ¡ chiáº¿n lÆ°á»£c + Ä‘á» xuáº¥t chi tiáº¿t triá»ƒn khai Phase 3: â€œEditorial Intelligenceâ€**, bao gá»“m workflow, AI-assisted reviewer matching, metrics, vÃ  analytics dashboard cho EIC (Editor-in-Chief).

---

# âš™ï¸ Tá»•ng quan Phase 3 â€” *Editorial Intelligence & Automation Layer*

ğŸ¯ **Má»¥c tiÃªu:**
TÄƒng hiá»‡u quáº£ váº­n hÃ nh táº¡p chÃ­ khoa há»c báº±ng **tá»± Ä‘á»™ng hÃ³a biÃªn táº­p, phÃ¢n tÃ­ch reviewer, vÃ  AI reviewer-suggestion**, giÃºp:

* EIC giáº£m thá»i gian gÃ¡n pháº£n biá»‡n
* Reviewer cÃ³ workload há»£p lÃ½
* Cáº£ há»‡ thá»‘ng cÃ³ thá»ƒ **â€œtá»± há»câ€** tá»« hÃ nh vi pháº£n biá»‡n thá»±c táº¿

---

## ğŸ§© I. ThÃ nh pháº§n chÃ­nh trong Phase 3

| ThÃ nh pháº§n                          | Má»¥c tiÃªu                                                                                                      | Output                                            |
| ----------------------------------- | ------------------------------------------------------------------------------------------------------------- | ------------------------------------------------- |
| **1ï¸âƒ£ Reviewer Finder**             | Gá»£i Ã½ reviewer phÃ¹ há»£p vá»›i bÃ i ná»™p dá»±a trÃªn tá»« khÃ³a, chuyÃªn ngÃ nh, workload, vÃ  lá»‹ch sá»­ pháº£n biá»‡n             | API `/api/reviewers/suggest` + UI reviewer picker |
| **2ï¸âƒ£ Reviewer Metrics Dashboard**  | ÄÃ¡nh giÃ¡ hiá»‡u suáº¥t reviewer (tá»‘c Ä‘á»™, cháº¥t lÆ°á»£ng, Ä‘á»™ tin cáº­y, workload trung bÃ¬nh)                             | `/dashboard/admin/reviewers/metrics`              |
| **3ï¸âƒ£ Editor Analytics Dashboard**  | Tá»•ng há»£p dá»¯ liá»‡u toÃ n há»‡ thá»‘ng: submissions theo tráº¡ng thÃ¡i, thá»i gian review trung bÃ¬nh, tá»‰ lá»‡ accept/reject | `/dashboard/eic/analytics`                        |
| **4ï¸âƒ£ Email & Workflow Automation** | Tá»± Ä‘á»™ng gá»­i thÃ´ng bÃ¡o theo sá»± kiá»‡n workflow (invitation, deadline approaching, decision made)                 | `/lib/email/workflow-automator.ts`                |
| **5ï¸âƒ£ Reviewer Match AI**           | DÃ¹ng ML hoáº·c semantic similarity Ä‘á»ƒ tÃ¬m reviewer tiá»m nÄƒng                                                    | `/lib/ai/reviewer-match.ts`                       |

---

## ğŸ§  II. MÃ´ hÃ¬nh dá»¯ liá»‡u (schema báº¡n Ä‘Ã£ cÃ³)

CÃ¡c model trong `schema.prisma` Ä‘Ã£ sáºµn sÃ ng cho triá»ƒn khai Phase 3:

| Model             | Vai trÃ²                                                        |
| ----------------- | -------------------------------------------------------------- |
| `Submission`      | BÃ i ná»™p, cÃ³ `keywords[]`, `categoryId`, `status`               |
| `Review`          | Káº¿t quáº£ pháº£n biá»‡n, chá»©a `recommendation`, `score`, `formJson`  |
| `ReviewerProfile` | ThÃ´ng tin chuyÃªn mÃ´n, thá»‘ng kÃª pháº£n biá»‡n, tráº¡ng thÃ¡i, keywords |
| `EditorDecision`  | Quyáº¿t Ä‘á»‹nh biÃªn táº­p cuá»‘i cÃ¹ng                                  |
| `Deadline`        | Quáº£n lÃ½ thá»i háº¡n review, revision, production                  |
| `Notification`    | Há»‡ thá»‘ng thÃ´ng bÃ¡o workflow                                    |

ğŸ’¡ KhÃ´ng cáº§n thay Ä‘á»•i schema â€” chá»‰ cáº§n **kÃ­ch hoáº¡t logic vÃ  chá»‰ sá»‘ phÃ¢n tÃ­ch.**

---

## ğŸ” III. Module chi tiáº¿t

### ğŸ§© 1. Reviewer Finder

**API**: `/api/reviewers/suggest`

**Logic:**

```ts
- Nháº­n submissionId
- Láº¥y keywords + category tá»« Submission
- TÃ¬m ReviewerProfile cÃ³ overlap keywords >= 30%
- Loáº¡i bá» reviewer Ä‘ang cÃ³ quÃ¡ nhiá»u review pending
- Sáº¯p xáº¿p theo Ä‘iá»ƒm tÆ°Æ¡ng Ä‘á»“ng, workload, vÃ  lastReviewAt
```

**Output:**

```json
[
  {
    "id": "uuid",
    "name": "Dr. Nguyá»…n VÄƒn A",
    "matchScore": 0.82,
    "expertise": ["Machine Learning", "Deep Learning"],
    "currentLoad": 2,
    "available": true
  }
]
```

**UI:**

* Modal â€œGÃ¡n pháº£n biá»‡n tá»± Ä‘á»™ngâ€
* Tag reviewer theo má»©c phÃ¹ há»£p (â­ High / âš™ Medium / â›” Low)
* Tá»± Ä‘á»™ng thÃªm reviewer Ä‘Æ°á»£c chá»n vÃ o Submission

---

### ğŸ“Š 2. Reviewer Metrics Dashboard

**API**: `/api/statistics/reviewers`

**TÃ­nh toÃ¡n trong `/lib/reviewer-metrics.ts`:**

```ts
{
  totalReviews: count(),
  avgCompletionDays: avg(submittedAt - invitedAt),
  onTimeRate: percent(submittedAt <= deadline),
  recommendationDistribution: count by type,
  qualityRatingAvg: avg(qualityRating),
  declineRate: percent(declinedAt != null)
}
```

**UI (`/dashboard/admin/reviewers/metrics`):**

* Chart 1: Pie â€“ Recommendation distribution (ACCEPT, MINOR, MAJOR, REJECT)
* Chart 2: Bar â€“ Average completion time per reviewer
* Chart 3: Line â€“ Review trend (last 6 months)
* Table â€“ Reviewer Performance Table

---

### ğŸ“ˆ 3. Editor Analytics Dashboard

**API**: `/api/statistics/editor`

**TÃ­nh toÃ¡n trong `/lib/editor-analytics.ts`:**

* Tá»•ng bÃ i theo tráº¡ng thÃ¡i (`SubmissionStatus`)
* Thá»i gian trung bÃ¬nh tá»« â€œNEWâ€ Ä‘áº¿n â€œACCEPTEDâ€
* Tá»‰ lá»‡ `ACCEPTED` / `REJECTED`
* Sá»‘ lÆ°á»£ng bÃ i má»—i chuyÃªn má»¥c
* Reviewer load trung bÃ¬nh toÃ n há»‡ thá»‘ng

**UI:**
Dashboard `/dashboard/eic/analytics` gá»“m:

* KPI cards (Tá»•ng bÃ i, trung bÃ¬nh ngÃ y review, tá»‰ lá»‡ accept)
* Line chart: Sá»‘ bÃ i ná»™p theo thÃ¡ng
* Bar chart: Distribution theo tráº¡ng thÃ¡i
* Pie chart: BÃ i theo category

---

### ğŸ’Œ 4. Email & Workflow Automation

**File:** `/lib/email/workflow-automator.ts`

**Sá»± kiá»‡n trigger:**

| Event                         | Email tá»›i         |
| ----------------------------- | ----------------- |
| Reviewer invited              | Reviewer          |
| Reviewer deadline approaching | Reviewer          |
| Review completed              | Editor            |
| Decision made                 | Author            |
| Revision requested            | Author            |
| Paper published               | Author + Reviewer |

**Káº¿t ná»‘i Notification API:**
Má»—i email cÅ©ng táº¡o `Notification` record Ä‘á»ƒ hiá»ƒn thá»‹ trong UI `/dashboard/notifications`.

---

### ğŸ¤– 5. Reviewer Match AI (Optional nhÆ°ng quan trá»ng)

**File:** `/lib/ai/reviewer-match.ts`

#### Input:

```json
{
  "submissionTitle": "Deep Learning for Cardiac Image Segmentation",
  "abstract": "...",
  "keywords": ["AI", "Cardiology", "Segmentation"]
}
```

#### Output:

```json
[
  { "reviewerId": "r1", "matchScore": 0.91 },
  { "reviewerId": "r2", "matchScore": 0.85 }
]
```

**Ká»¹ thuáº­t:**

* Sá»­ dá»¥ng `cosine similarity` giá»¯a embeddings cá»§a submission vÃ  reviewer expertise
* ThÆ° viá»‡n gá»£i Ã½: `@tensorflow-models/universal-sentence-encoder`
* Cache embeddings vÃ o Redis hoáº·c JSON file (`ReviewerProfileEmbedding`)

---

## ğŸ§° IV. ThÆ° viá»‡n vÃ  file cáº§n táº¡o

| File                                          | Chá»©c nÄƒng                      |
| --------------------------------------------- | ------------------------------ |
| `/lib/reviewer-metrics.ts`                    | TÃ­nh toÃ¡n hiá»‡u suáº¥t reviewer   |
| `/lib/editor-analytics.ts`                    | Tá»•ng há»£p chá»‰ sá»‘ há»‡ thá»‘ng       |
| `/lib/email/workflow-automator.ts`            | Tá»± Ä‘á»™ng gá»­i email theo sá»± kiá»‡n |
| `/lib/ai/reviewer-match.ts`                   | AI matching engine             |
| `/api/reviewers/suggest/route.ts`             | API gá»£i Ã½ reviewer             |
| `/api/statistics/reviewers/route.ts`          | Reviewer metrics               |
| `/api/statistics/editor/route.ts`             | Editor analytics               |
| `/dashboard/eic/analytics/page.tsx`           | Dashboard EIC                  |
| `/dashboard/admin/reviewers/metrics/page.tsx` | Reviewer performance UI        |

---

## ğŸ§­ V. Lá»™ trÃ¬nh triá»ƒn khai Phase 3

| Giai Ä‘oáº¡n | Háº¡ng má»¥c                         | Æ¯u tiÃªn |
| --------- | -------------------------------- | ------- |
| **3.1**   | Reviewer Finder + Suggestion API | â­â­      |
| **3.2**   | Reviewer Metrics Dashboard       | â­â­â­     |
| **3.3**   | Editor Analytics Dashboard       | â­â­â­â­    |
| **3.4**   | Email Workflow Automation        | â­â­      |
| **3.5**   | AI Reviewer Match Engine         | â­â­â­â­â­   |

---

## ğŸ’¡ VI. Äá» xuáº¥t ká»¹ thuáº­t

* **Caching layer**: Redis hoáº·c file-based cache Ä‘á»ƒ lÆ°u reviewer metrics & embeddings
* **Background tasks**: Cron jobs cho email reminder, data refresh
* **Realtime update**: Revalidate metrics khi submission status thay Ä‘á»•i
* **Visualization**: DÃ¹ng `recharts` (Ä‘Ã£ cÃ³ trong há»‡ thá»‘ng) hoáº·c `@tremor/react` cho dashboard UI

---

## âœ… VII. Káº¿t quáº£ ká»³ vá»ng sau Phase 3

> Sau khi hoÃ n táº¥t Phase 3, há»‡ thá»‘ng cá»§a báº¡n trá»Ÿ thÃ nh **â€œIntelligent Editorial Platformâ€**, vá»›i kháº£ nÄƒng:
>
> * Tá»± Ä‘á»™ng gá»£i Ã½ reviewer phÃ¹ há»£p
> * Theo dÃµi hiá»‡u suáº¥t reviewer theo thá»i gian
> * Há»— trá»£ EIC báº±ng dashboard toÃ n cáº£nh
> * Gá»­i thÃ´ng bÃ¡o vÃ  email tá»± Ä‘á»™ng khi cÃ³ sá»± kiá»‡n quan trá»ng

---

ğŸ“ **TÃ³m táº¯t Ä‘á»‹nh hÆ°á»›ng triá»ƒn khai Phase 3**

```
Phase 3: Editorial Intelligence
â”œâ”€â”€ Reviewer Finder (AI Suggestion)
â”œâ”€â”€ Reviewer Metrics (Performance Dashboard)
â”œâ”€â”€ Editor Analytics (Global Overview)
â”œâ”€â”€ Workflow Automation (Email/Notifications)
â””â”€â”€ AI Reviewer Match Engine (Semantic Matching)